{% extends 'base2.html.twig' %}

{% block body %}
    <!-- Page Heading -->
    <h1 class="h3 mb-2 text-gray-800">Les Statistiques Généraux</h1>

    <!-- DataTales Example -->
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">Les Stats</h6>
        </div>
        <div class="card-body">
                <div class="table-responsive">
                    <div class="row">
                        <div class="col-sm-12 col-md-6">
                            <div class="dataTables_length" id="dataTable_length">
                                <label>Show
                                    <select name="dataTable_length" aria-controls="dataTable" class="custom-select custom-select-sm form-control form-control-sm">
                                        <option value="10">10</option>
                                        <option value="25">25</option>
                                        <option value="50">50</option>
                                        <option value="100">100</option>
                                    </select> entries
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-6">
                            <div id="dataTable_filter" class="dataTables_filter">
                                <label>
                                    Recherche:
                                    <input type="search" id="monBoutton" class="form-control form-control-sm" placeholder="Par Région..." aria-controls="dataTable" onkeyup="maRecherche()">
                                </label>
                            </div>
                        </div>
                    </div>
                    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                        <thead>
                        <tr>
                            <th>Titre</th>
                            <th>Auteur</th>
                            <th>Région d'origine</th>
                            <th>Nombre de vote</th>
                            <th>Action</th>
                        </tr>
                        </thead>
                        <tfoot>
                        <tr>
                            <th>Titre</th>
                            <th>Auteur</th>
                            <th>Région d'origine</th>
                            <th>Nombre de vote</th>
                            <th>Action</th>
                        </tr>
                        </tfoot>
                        <tbody>
                        {% for i in stat %}
                        <tr>
                            <td>{{ i.titre }}</td>
                            <td>{{ i.author}}</td>
                            <td>{{ i.evenement.region.nom }}</td>
                            <td>{{ i.nbrVote }}</td>
                            <td>

                            </td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
        </div>
    </div>

    </div>
    <!-- /.container-fluid -->

    </div>

    <!-- End of Main Content -->

    <!-- Recherche -->
    <script>
        function maRecherche() {

            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("monBoutton");
            filter = input.value.toUpperCase();
            table = document.getElementById("dataTable");
            tr = table.getElementsByTagName("tr");

            for (i = 0; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("td")[2];
                if (td) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }
    </script>
    <!-- //recherche -->

    <!-- Bootstrap core JavaScript-->
    <script src="{{asset('vendorA/jquery/jquery.min.js')}}"></script>
    <script src="{{ asset('vendorA/bootstrap/js/bootstrap.bundle.min.js')}}"></script>

    <!-- Core plugin JavaScript-->
    <script src="{{ asset('vendorA/jquery-easing/jquery.easing.min.js')}}"></script>

    <!-- Custom scripts for all pages-->
    <script src="{{ asset('jsA/sb-admin-2.min.js')}}"></script>

    <!-- Page level plugins -->
    <script src="{{ asset('vendorA/datatables/jquery.dataTables.min.js')}}"></script>
    <script src="{{ asset('vendorA/datatables/dataTables.bootstrap4.min.js')}}"></script>

    <!-- Page level custom scripts -->
    <script src="{{ asset('jsA/demo/datatables-demo.js')}}"></script>
{% endblock %}